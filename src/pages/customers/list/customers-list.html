<template>
  <require from="./customers-list.css"></require>
  <div class="row justify-content-center ">


    <div class="col-10 row head justify-content-between">
      <div class="col-2 m-0 p-0 pb-3">
        <h3>Kliendid</h3>
      </div>
      <div class="col-3 text-right m-0 p-0 pb-3">
        <button click.delegate="goToNewCustomer()" class="btn btn-dark">CREATE CUSTOMER</button>
      </div>
    </div>
    <div class="col-10 row border main-body">
      <div class="col-12 tab">
        <div class="">All Customers</div>
      </div>
      <div class="col-12 tab">
        <input type="text" value.bind="nameFilter" input.delegate="onSearchFilterChanged()">
      </div>

      <div class="col-12 tab m-0 p-0">
        <table class="table table-striped">
          <thead>
          <tr class="bold">
            <td width="25%" class="table-header"><span>Nimi</span></td>
            <td width="15%" class="table-header"><span>Email</span></td>
            <td width="15%" class="table-header"><span>Tellimusi</span></td>
          </tr>
          </thead>

          <tbody>
          <tr repeat.for="party of filteredParties" click.delegate='onClickCustomer(party)'>
            <td>${ party.partyId }</td>
            <td>${ party.__toOne_EmailAddress.infoString }</td>
            <td>${ party.__toMany_OrderAndPartyContactMech.length ? party.__toMany_OrderAndPartyContactMech.length : 0 }
            </td>
          </tr>
          </tbody>

        </table>
      </div>
    </div>
  </div>

</template>
