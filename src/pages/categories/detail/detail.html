<template>
  <require from="./detail.css"></require>

  <div if.bind="category" class="row justify-content-center">
    <div class="col row justify-content-center fixed">
      <!-- BACK BUTTON -->
      <div class="col-10 row head justify-content-between back">


        <div class="col-10 m-0 p-0 pb-4">
          <a href="/categories">
            <img src="/back-arrow.png">
            <span>Back</span>
          </a>
        </div>
        <div class="col-2">
          <div if.bind="!isEditingMode" click.delegate="isEditingMode = true" class="col-2"><button class=" btn btn-dark float-right">EDIT</button></div>
          <div if.bind="isEditingMode" click.delegate="updateData()" class="col-2"><button class=" btn btn-success float-right">SAVE</button></div>
        </div>
      </div>

      <div class="col-10">

        <div class="row justify-content-center">
          <div class="col-12">
            <div class="col-11 row border main-body mb-5" style="min-width: 500px">
              <div class="col-12 row tab">
                <div class="col-10"><h3 class="bold">General Informations</h3></div>
              </div>
              <div class="col-12 row tab">

                <div class="col-12 row">
                  <div class="col pt-4 pb-2 "><h5 class="bold">Name</h5></div>

                  <div class="col-12 mt-1">
                    <input if.bind="isEditingMode" type="text" value.bind="category.categoryName" class="form-control" >
                    <span if.bind="!isEditingMode">${ category.categoryName }</span>
                  </div>
                </div>
              </div>
              <div class="col-12 row">

                <div class="col-6 row">
                  <div class="col-12 pt-4 pb-2 bold"><h5 class="bold">Parent category</h5></div>

                  <div class="col-12">
                    <abp-select if.bind="isEditingMode"
                                picker-options.bind="pickerOptions"
                                data-mapping-structure.bind="categoryMappings"
                                selected-value.bind="category.primaryParentCategoryId"
                                collection.bind="categories"
                                object-key="productCategoryId">
                    </abp-select>
                    <span if.bind="!isEditingMode">${ category._toOne_PrimaryParentProductCategory.categoryName }</span>

                  </div>
                </div>
                <div class="col-6 row">
                  <div class="col-12 pt-4 pb-2 bold"><h5 class="bold">Catalog</h5></div>

                  <div class="col-12">
                    <abp-select if.bind="isEditingMode"
                                picker-options.bind="pickerOptions"
                                data-mapping-structure.bind="typeMappings"
                                selected-value.bind="category.productCategoryTypeId"
                                collection.bind="types"
                                object-key="productCategoryId">
                    </abp-select>
                    <span if.bind="!isEditingMode">${ category._toOne_ProductCategoryType.description }</span>

                  </div>
                </div>
              </div>
              <div class="col-12 row tab">

                <div class="col-12 row">
                  <div class="col-12 pt-4 pb-2 "><h5 class="bold">Description</h5></div>

                  <div class="col-12">
                    <textarea if.bind="isEditingMode" value.bind="category.longDescription" class="form-control" id="exampleFormControlTextarea1" rows="3"></textarea>
                    <span if.bind="!isEditingMode">${ category.longDescription }</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

      </div>

    </div>


  </div>
</template>
