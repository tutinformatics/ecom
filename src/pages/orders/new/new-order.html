<template>

  <require from="./new-order.css"></require>


  <div class="col-8 row head justify-content-between back">
    <div class="col-10 m-0 p-0 pb-4">
      <a href="/orders">
        <img src="/back-arrow.png">
        <span>Back</span>
      </a>
    </div>
    <div class="col-2">
      <div click.delegate="createProduct()" class="col-2">
        <a class=" float-right" href="/orders">CREATE</a>
      </div>
    </div>
  </div>


  <h1>Tellimuse sisestamine</h1>

  <form>
    <div class="row justify-content-around">
      <div class="col-xl-4 col-lg-11 col-md-11 col-sm-11 col-11 row">
        <div class="col-5">
          <p><label class="form-label">Klient:</label></p>
          <p><label class="form-label">Kokku:</label></p>
          <p><label class="form-label">Tasuda:</label></p>

        </div>

        <div class="col-7">

          <abp-select class="mb-2"
                      picker-options.bind="pickerOptions"
                      data-mapping-structure.bind="partyMappings"
                      collection.bind="parties"
                      object-key="partyId">
          </abp-select>

          <fieldset disabled>
            <input type="text" aria-label="First name" class="form-control header-input">
          </fieldset>

          <fieldset disabled>
          <input type="text" aria-label="First name" class="form-control header-input">
          </fieldset>

        </div>

      </div>

      <div class="col-xl-4 col-lg-11 col-md-11 col-sm-11 col-11 row">

        <div class="col-5">
          <p><label class="form-label">Esitamise kuupäev:</label></p>
          <p><label class="form-label">Tasumistingimus:</label></p>
          <p><label class="form-label">Tähtpäev:</label></p>
        </div>

        <div class="col-7">

          <input type="text" class="form-control header-input">
          <input type="text" class="form-control header-input">
          <fieldset disabled>
            <input type="text" placeholder="" class="form-control header-input disabled">
          </fieldset>

        </div>

      </div>
      <div class="col-xl-4 col-lg-11 col-md-11 col-sm-11 col-11 row">

        <div class="col-5">
          <p><label class="form-label">MT nr.:</label></p>
        </div>

        <div class="col-7">

          <input type="text" aria-label="First name" class="form-control header-input">

        </div>

      </div>
    </div>


    <div class="justify-content-center">
      <table class="table">
        <thead>
        <tr>
          <td width="5%"></td>
          <td width="">Toode</td>
          <td width="">Kogus</td>
          <td width="">Kaibemaks</td>
          <td width="">Summa KM`ta</td>
          <td width="">Summa KM`ga</td>
          <td width="7%"></td>
        </tr>
        </thead>

        <tbody>
        <tr repeat.for="row of rows">
          <td>${ $index + 1}</td>
          <td>
            <abp-select class="mb-2"
                        picker-options.bind="pickerOptions"
                        selected-value.bind="row.purchaseProduct"
                        data-mapping-structure.bind="productMappings"
                        collection.bind="products"
                        object-key="productId">
            </abp-select>
          </td>
          <td><input type="text" aria-label="First name" class="form-control" value.bind="row.itemAmount"></td>
          <td>
            <select class="form-control" id="${$index  }" value.bind="row.tax" change.delegate="processTaxValue($event)">
              <option>Vali kaibemaks</option>
              <option>20%</option>
              <option>9%</option>
              <option>0%</option>
            </select>
          </td>
          <td>${ row.valueWithTax }</td>
          <td>${ row.taxValue }</td>
          <td>
            <button type="button" class="btn btn-danger" click.delegate="removeRow($event)">Remove</button>
          </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td>
            <button type="button" class="btn btn-success" click.delegate="addRow()">New</button>
          </td>
        </tr>

        </tbody>
      </table>

    </div>

  </form>


</template>
